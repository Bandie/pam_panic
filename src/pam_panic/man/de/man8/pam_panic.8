'\" t
.\"     Title: pam_panic
.\"    Author: [see the "AUTHORS" section]
.\"      Date: 2018-03-26
.\"    Manual: Linux-PAM Panic Manual
.\"    Source: Linux-PAM Panic Manual
.\"  Language: English
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH PAM_PANIC 8 2018\-09\-28 "PAM Panic Handbuch" "PAM Panic Handbuch"
.\".ie \n(.g .ds Aq \(aq
.\".el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l


.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH NAME
pam_panic \- PAM\-Module mit Panik\-Funktion zum Schützen von wichtigen Daten
in Notsituationen.


.SH ÜBERSICHT
.HP \w'\fBpam_panic.so\fR\ 'u
\fBpam_panic.so\fP [password] [allow=\fIUUID(GPT)\fP] [reject=\fIUUID(GPT)\fP]
[reboot] [poweroff] [serious=\fIUUID\fP]


.SH BESCHREIBUNG
.PP
Das pam_panic PAM\-Modul schützt wichtige Daten durch das Anbieten einer
Panik\-Funktion
.PP
Es gibt zwei Möglichkeiten der Verwendung:
.PD 0
.PP
Erste Möglichkeit:
.RS 2
Man verwendet zwei Wecheldatenträger, die als Schlüssel dienen. Hierbei
funktioniert eines als Authentifizierungsschlüssel und eines als
Panikschlüssel. Der Panikschlüssel führt die \fIPanikfunktion\fP aus.
.PD 0
.PP
Sie dazu die Optionen \fBallow\fP und \fBreject\fP.
.RE
.PP
Zweite Möglichkeit:
.RS 2
Man verwendet zwei Passwörter, die als Schlüssel dienen. Dabei wird ein
Schlüsselpasswort (Key password) und ein Panikpasswort (Panic password)
festgelegt.Das Panikpasswort wird hierbei die \fIPanikfunktion\fP aufrufen.
.PD 0
.PP
Siehe dazu die Option \fBpassword\fP.
.RE

.PD 1
.PP
Die Panikfunktion:
.RS 2
Das Verhalten der Panikfunktion wird durch die Argumente \fBreboot\fP,
\fBpoweroff\fP und/oder \fBserious\fP definiert. Siehe dazu den Abschnitt
\fBOPTIONEN\fP.
.RE


.SH OPTIONEN
.PP
\fBpassword\fP
.RS 4
Aktiviert die Passwortfunktion mit einem Panik\- und Schlüsselpasswort. Wenn
\fBallow\fP und \fBreject\fP gesetzt sind, wird diese Option ignoriert.
.PD 0
.PP
Diese Passwörter können mit dem \fBpam_panic_pw\fP(1) Programm gesetzt werden.
.RE
.PD 1
.PP

\fBallow=\fP\fIUUID(GPT)\fP
.RS 4
Diese Geräte\-UUID wird zur Authentifizierung benutzt
(Authentifierungsschlüssel).
.PD 0
.PP
.PD 1
Der Wechseldatenträger muss GPT\-formatiert sein und mindestens eine
Partition enthalten.Die UUID eines GPT\-formatierten Gerätes sieht
beispielsweise so aus: "12345678\-9ABC\-DEF0\-1234\-56789ABCDEF0".
.PP
Weitere Informationen im Abschnitt \fBWIE BESTIMME ICH MEINE UUIDS\fP.
.RE
.PP

\fBreject=\fP\fIUUID(GPT)\fP
.RS 4
Diese Geräte\-UUID, welches in Notfällen benutzt wird. Die Verwendung des
Gerätes wird \fBreboot\fP, \fBpoweroff\fP und/oder die Panikfunktion auslösen,
sofern \fBreboot\fP \fBpoweroff\fP und/oder \fBserious\fP angegeben wurden.
.PD 0
.PP
.PD 1
Der Wechseldatenträger muss GPT\-formatiert sein und mindestens eine
Partition enthalten.Die UUID eines GPT\-formatierten Gerätes sieht
beispielsweise so aus: "12345678\-9ABC\-DEF0\-1234\-56789ABCDEF0".
.PP
Weitere Informationen im Abschnitt \fBWIE BESTIMME ICH MEINE UUIDS\fP.
.RE
.PP

\fBreboot\fP (empfohlen)
.RS 4
Sorgt für ein Neustart des Systems, sobald die \fIPanikfunktion\fP ausgelöst
wird.
.PD 0
.PP
Diese Option ist empfohlen.
.PD 1
.PP
Wenn \fBpoweroff\fP ebenfalls angegeben worden ist, wird \fBreboot\fP ignoriert.
.RE
.PP

\fBpoweroff\fP
.RS 4
Sorgt für ein Herunterfahren des Systems, sobald die \fIPanikfunktion\fP
ausgeführt wird. Diese Option ist aus Sicherheitsgründen nicht
empfehlenswert.
.RE
.PP

\fBserious=\fP\fIUUID\fP
.RS 4
Die Geräte\-UUID, dessen LUKS\-Header zerstört werden soll, sobald die
\fIPanikfunktion\fP ausgelöst wurde. Das Zerstören der LUKS\-Header hat zu
Folge, dass die Daten nicht mehr lesbar sein werden.
.PD 0
.PP
Der interne Befehl, der ausgeführt werden wird ist "\fBcryptsetup luksErase
[UUID]\fP".
.PD 1
.PP
HINWEIS: Ein Backup des LUKS\-Headers wäre vor Verwendung dieser Funktion
sinnvoll.
.RE
.PP


.SH ANWENDUNG
.PP
Um dieses Modul zu aktivieren, musst du PAM konfigurieren. Siehe
\fBpam.conf(5)\fP.
.PP
In allgemeinen Worten gefasst möchte man folgende Zeilen am Anfang einer
PAM\-Konfigurationsdatei hinzufügen:
.PD 0
.RS 4
auth requisite __PAMPANICSO__ auth=<UUID> reject=<UUID>
reboot serious=<UUID>
.PP
account requisite __PAMPANICSO__
.RE
Oder auch:
.RS 4
auth requisite __PAMPANICSO__ password reboot serious=<UUID>
.PP
account requisite __PAMPANICSO__
.RE
.PD 1


.SH "WIE BESTIMME ICH MEINE UUIDS"
.PP
Die UUIDs können unter \fI/dev/disk/by\-partuuid\fP gefunden werden. Um
nachvollziehen zu können, welcher Wecheldatenträger welches ist, ist es
ratsam "\fBls \-l /dev/disk/by\-partuuid/\fP" in der Lieblingsshell auszuführen.


.SH RÜCKGABEWERTE
.PP
PAM_SUCCESS
.RS 4
Zugriff wurde gewährt.
.RE
.PP
PAM_IGNORE
.RS 4
Ein Fehler ist aufgetreten. Dieses Modul wird ignoriert.
.RE
.PP
PAM_MAXTRIES
.RS 4
Der Wechseldatenträger wurde nicht erkannt.
.RE


.SH DATEIEN
.PP
__PAMPANICSO__
.RS 4
Dieses PAM\-Modul, welches für alles zuständig ist.
.RE
.PP
__PAMPANICPW__
.RS 4
Programm zum Setzen und Verändern der Passwörter.
.RE


.SH BUGS
.PP
Fehlerberichte (möglichst auf Englisch) und Codeverbesserungen können hier
eingereicht werden: <https://github.com/pampanic/pam_panic>.


.SH "SIEHE AUCH"
.PP
\fBpam_panic_pw\fP(1), \fBcryptsetup\fP(8), \fBpam\fP(8), \fBpam.conf\fP(5)


.SH AUTOREN
.PD 0
.PP
pam_panic wurde von Bandie <bandie@chaospott.de> entwickelt.
.PP
Diese man page wurde von Bandie <bandie@chaospott.de> ins Deutsche
übersetzt.
